"use strict";function _readOnlyError(a){throw new TypeError("\""+a+"\" is read-only")}function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _construct(){return _construct=_isNativeReflectConstruct()?Reflect.construct:function(b,c,d){var e=[null];e.push.apply(e,c);var a=Function.bind.apply(b,e),f=new a;return d&&_setPrototypeOf(f,d.prototype),f},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _setPrototypeOf(a,b){return _setPrototypeOf=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a},_setPrototypeOf(a,b)}function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_unsupportedIterableToArray(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(a,b){var c=a&&("undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"]);if(null!=c){var d,e,f=[],g=!0,h=!1;try{for(c=c.call(a);!(g=(d=c.next()).done)&&(f.push(d.value),!(b&&f.length===b));g=!0);}catch(a){h=!0,e=a}finally{try{g||null==c["return"]||c["return"]()}finally{if(h)throw e}}return f}}function _arrayWithHoles(a){if(Array.isArray(a))return a}function _createForOfIteratorHelper(a,b){var c="undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(!c){if(Array.isArray(a)||(c=_unsupportedIterableToArray(a))||b&&a&&"number"==typeof a.length){c&&(a=c);var d=0,e=function(){};return{s:e,n:function n(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function e(a){throw a},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f,g=!0,h=!1;return{s:function s(){c=c.call(a)},n:function n(){var a=c.next();return g=a.done,a},e:function e(a){h=!0,f=a},f:function f(){try{g||null==c["return"]||c["return"]()}finally{if(h)throw f}}}}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(a):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2015 - 2021, Lalilo
 * @license     http://opensource.org/licenses/MIT  MIT License
 * @link        https://www.ioa.tw/
 */ /*
CryptoJS v3.1.2
code.google.com/p/crypto-js
(c) 2009-2013 by Jeff Mott. All rights reserved.
code.google.com/p/crypto-js/wiki/License
*/var CryptoJS=CryptoJS||function(b){var d={},g=d.lib={},e=function(){},i=g.Base={extend:function extend(a){e.prototype=this;var b=new e;return a&&b.mixIn(a),b.hasOwnProperty("init")||(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function create(){var a=this.extend();return a.init.apply(a,arguments),a},init:function init(){},mixIn:function mixIn(a){for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);a.hasOwnProperty("toString")&&(this.toString=a.toString)},clone:function clone(){return this.init.prototype.extend(this)}},j=g.WordArray=i.extend({init:function init(a,b){a=this.words=a||[],this.sigBytes=null==b?4*a.length:b},toString:function toString(b){return(b||a).stringify(this)},concat:function concat(a){var b=this.words,c=a.words,d=this.sigBytes;if(a=a.sigBytes,this.clamp(),d%4)for(var e=0;e<a;e++)b[d+e>>>2]|=(255&c[e>>>2]>>>24-8*(e%4))<<24-8*((d+e)%4);else if(65535<c.length)for(e=0;e<a;e+=4)b[d+e>>>2]=c[e>>>2];else b.push.apply(b,c);return this.sigBytes+=a,this},clamp:function clamp(){var a=this.words,c=this.sigBytes;a[c>>>2]&=4294967295<<32-8*(c%4),a.length=b.ceil(c/4)},clone:function clone(){var a=i.clone.call(this);return a.words=this.words.slice(0),a},random:function random(a){for(var c=[],d=0;d<a;d+=4)c.push(0|4294967296*b.random());return new j.init(c,a)}}),k=d.enc={},a=k.Hex={stringify:function stringify(a){var b=a.words;a=a.sigBytes;for(var c,d=[],f=0;f<a;f++)c=255&b[f>>>2]>>>24-8*(f%4),d.push((c>>>4).toString(16)),d.push((15&c).toString(16));return d.join("")},parse:function parse(a){for(var b=a.length,c=[],d=0;d<b;d+=2)c[d>>>3]|=parseInt(a.substr(d,2),16)<<24-4*(d%8);return new j.init(c,b/2)}},c=k.Latin1={stringify:function stringify(a){var b=a.words;a=a.sigBytes;for(var c=[],d=0;d<a;d++)c.push(String.fromCharCode(255&b[d>>>2]>>>24-8*(d%4)));return c.join("")},parse:function parse(a){for(var b=a.length,c=[],d=0;d<b;d++)c[d>>>2]|=(255&a.charCodeAt(d))<<24-8*(d%4);return new j.init(c,b)}},h=k.Utf8={stringify:function stringify(a){try{return decodeURIComponent(escape(c.stringify(a)))}catch(a){throw Error("Malformed UTF-8 data")}},parse:function parse(a){return c.parse(unescape(encodeURIComponent(a)))}},f=g.BufferedBlockAlgorithm=i.extend({reset:function reset(){this._data=new j.init,this._nDataBytes=0},_append:function _append(a){"string"==typeof a&&(a=h.parse(a)),this._data.concat(a),this._nDataBytes+=a.sigBytes},_process:function _process(d){var f=this._data,g=f.words,e=f.sigBytes,h=this.blockSize,i=e/(4*h);if(d=(i=d?b.ceil(i):b.max((0|i)-this._minBufferSize,0))*h,e=b.min(4*d,e),d){for(var k=0;k<d;k+=h)this._doProcessBlock(g,k);k=g.splice(0,d),f.sigBytes-=e}return new j.init(k,e)},clone:function clone(){var a=i.clone.call(this);return a._data=this._data.clone(),a},_minBufferSize:0});g.Hasher=f.extend({cfg:i.extend(),init:function init(a){this.cfg=this.cfg.extend(a),this.reset()},reset:function reset(){f.reset.call(this),this._doReset()},update:function update(a){return this._append(a),this._process(),this},finalize:function finalize(a){return a&&this._append(a),this._doFinalize()},blockSize:16,_createHelper:function _createHelper(a){return function(b,c){return new a.init(c).finalize(b)}},_createHmacHelper:function _createHmacHelper(a){return function(b,c){return new m.HMAC.init(a,c).finalize(b)}}});var m=d.algo={};return d}(Math);!function(b){for(var d=CryptoJS,g=(e=d.lib).WordArray,i=e.Hasher,e=d.algo,j=[],k=[],m=function(a){return 0|4294967296*(a-(0|a))},a=2,n=0;64>n;){var o;t:{o=a;for(var q=b.sqrt(o),s=2;s<=q;s++)if(!(o%s)){o=!1;break t}o=!0}o&&(8>n&&(j[n]=m(b.pow(a,.5))),k[n]=m(b.pow(a,1/3)),n++),a++}var v=[];e=e.SHA256=i.extend({_doReset:function _doReset(){this._hash=new g.init(j.slice(0))},_doProcessBlock:function _doProcessBlock(b,g){for(var j=this._hash.words,i=j[0],m=j[1],n=j[2],o=j[3],p=j[4],q=j[5],t=j[6],w=j[7],x=0;64>x;x++){if(16>x)v[x]=0|b[g+x];else{var z=v[x-15],A=v[x-2];v[x]=((z<<25|z>>>7)^(z<<14|z>>>18)^z>>>3)+v[x-7]+((A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10)+v[x-16]}z=w+((p<<26|p>>>6)^(p<<21|p>>>11)^(p<<7|p>>>25))+(p&q^~p&t)+k[x]+v[x],A=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&m^i&n^m&n),w=t,t=q,q=p,p=0|o+z,o=n,n=m,m=i,i=0|z+A}j[0]=0|j[0]+i,j[1]=0|j[1]+m,j[2]=0|j[2]+n,j[3]=0|j[3]+o,j[4]=0|j[4]+p,j[5]=0|j[5]+q,j[6]=0|j[6]+t,j[7]=0|j[7]+w},_doFinalize:function _doFinalize(){var a=this._data,c=a.words,d=8*this._nDataBytes,e=8*a.sigBytes;return c[e>>>5]|=128<<24-e%32,c[14+(e+64>>>9<<4)]=b.floor(d/4294967296),c[15+(e+64>>>9<<4)]=d,a.sigBytes=4*c.length,this._process(),this._hash},clone:function clone(){var a=i.clone.call(this);return a._hash=this._hash.clone(),a}}),d.SHA256=i._createHelper(e),d.HmacSHA256=i._createHmacHelper(e)}(Math),function(){var a=CryptoJS,b=a.enc.Utf8;a.algo.HMAC=a.lib.Base.extend({init:function init(d,f){d=this._hasher=new d.init,"string"==typeof f&&(f=b.parse(f));var g=d.blockSize,e=4*g;f.sigBytes>e&&(f=d.finalize(f)),f.clamp();for(var j=this._oKey=f.clone(),k=this._iKey=f.clone(),l=j.words,a=k.words,c=0;c<g;c++)l[c]^=1549556828,a[c]^=909522486;j.sigBytes=k.sigBytes=e,this.reset()},reset:function reset(){var a=this._hasher;a.reset(),a.update(this._iKey)},update:function update(a){return this._hasher.update(a),this},finalize:function finalize(a){var b=this._hasher;return a=b.finalize(a),b.reset(),b.finalize(this._oKey.clone().concat(a))}})}();// Local Storage
var Data={enable:"undefined"!=typeof Storage&&"undefined"!=typeof localStorage&&"undefined"!=typeof JSON,set:function set(a,b){return this.enable&&localStorage.setItem(a,JSON.stringify({val:b})),this},get:function get(a){return this.enable&&(a=localStorage.getItem(a))?JSON.parse(a).val:null},del:function del(a){return this.enable&&localStorage.removeItem(a),Data}},El={splitLength:3,split:function split(a,b){var c=a.match(b);return c?(b=a.indexOf(c[0]),c=c.shift(),{header:a.substring(0,b).trim(),tokens:a.substring(b+c.length).trim(),match:c}):{header:a.trim(),tokens:"",match:""}},toVue:function toVue(a,b){return a&&b?{key:a.replace(/^\*/,"v-").replace(/^@/,"v-on:"),val:b.replace(/"/g,"'")}:null},render:function render(a){var b,c=this,d=a.split("\n").filter(function(a){return a.trim().length}).map(function(a){var b,d=a.search(/\S|$/),e=c.split(a,/\s+=\>\s+/gm),f=c.split(e.header,/\.|#/gm),g=(e.tokens+(f.match+f.tokens).replace(/#/gm," ".repeat(c.splitLength)+"#").replace(/\./gm," ".repeat(c.splitLength)+".")).split(new RegExp("\\s{"+c.splitLength+",}","gm")).map(function(a){if("*else"===a)return{key:"v-else",val:null};if("#"!==a[0]||a.includes("=")||(a="id="+a.substr(1)),"."!==a[0]||a.includes("=")||(a="class="+a.substr(1).replace("."," ")),a.includes(":slot:")&&(a=a.replace(/^:slot:/,"v-slot:")),!a.includes("=")&&a.includes("v-slot:"))return{key:a,val:null};var b=a.indexOf("=");return a=[a.substr(0,b).trim(),a.substr(b+1).trim()].filter(function(a){return a.length}),c.toVue(a.shift(),a.shift())}).filter(function(a){return a}),h={},i=_createForOfIteratorHelper(g);try{for(i.s();!(b=i.n()).done;){var k=b.value;h[k.key]="class"==k.key&&h[k.key]?h[k.key]+" "+k.val:k.val}}catch(a){i.e(a)}finally{i.f()}var j=[""];for(var l in h)j.push(l+(null===h[l]?"":"=\""+h[l]+"\""));return{header:f.header,space:d,tokens:j.join(" "),children:[],toString:function toString(){return"|"===this.header[0]?this.header.substr(1).trim():-1=="area,base,br,col,command,embed,hr,img,input,keygen,link,meta,param,source,track,wbr".split(/,/).indexOf(this.header)?"<"+this.header+this.tokens+">"+this.children.join("")+"</"+this.header+">":"<"+this.header+this.tokens+" />"}}}),e=[],f={},g=_createForOfIteratorHelper(d);try{for(g.s();!(b=g.n()).done;){var h=b.value,i=f[h.space-2];i?h.space>i.space&&i.children.push(h):e.push(h),f[h.space]=h}}catch(a){g.e(a)}finally{g.f()}return e.join("")}},JWT={leeway:0,encode:function encode(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:JWT_KEY,c=JWT.base64({typ:"JWT",alg:"HS256"}),d=JWT.base64(a),e=JWT.base64(CryptoJS.HmacSHA256(c+"."+d,b).toString());return c+"."+d+"."+e},decode:function decode(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:JWT_KEY,c=a.split(".");if(3!=c.length)return null;var d=_slicedToArray(c,3),e=d[0],f=d[1],g=d[2],h=JWT.jsonParse(JWT.debase64(e)),j=JWT.jsonParse(JWT.debase64(f)),k=JWT.debase64(g);if("object"!=_typeof(h)||null===h||"JWT"!==h.typ||"HS256"!==h.alg)return null;if("object"!=_typeof(j)||null===j)return null;if("string"!=typeof k||!k)return null;var l=CryptoJS.HmacSHA256(e+"."+f,b).toString();if(k.length!=l.length)return null;for(var n=0;n<k.length;n++)if(k[n].charCodeAt(0)^l[n].charCodeAt(0))return null;var m=new Date().getTime();return void 0!==j.nbf&&j.nbf>m+JWT.leeway?null:void 0!==j.iat&&j.iat>m+JWT.leeway?null:void 0!==j.exp&&m-JWT.leeway>=j.exp?null:j},jsonParse:function jsonParse(a){try{return JSON.parse(a)}catch(a){}},debase64:function debase64(a){var b=a.length%4;return a+=b?"=".repeat(4-b):"",Base64.decode(a.replaceAll("-","+").replaceAll("_","/"))},base64:function base64(a){return Base64.encode("string"==typeof a?a:JSON.stringify(a)).replaceAll("+","-").replaceAll("/","_").replaceAll("=","")}},Queue=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this instanceof Queue?void(this.closures=[],this.prevs=[],this.isWorking=!1,b.forEach(this.enqueue.bind(this))):_construct(Queue,b)};// Element
Queue.prototype=_objectSpread(_objectSpread({},Queue.prototype),{},{get size(){return this.closures.length},enqueue:function enqueue(a){return this.closures.push(a),this.dequeue.apply(this,_toConsumableArray(this.prevs)),this},dequeue:function dequeue(){var a,b=this;if(this.isWorking)return this;this.isWorking=!0;for(var c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return this.closures.length?(a=this.closures)[0].apply(a,[function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return b.prevs=c,b.closures.shift(),b.isWorking=!1,b.dequeue.apply(b,_toConsumableArray(b.prevs))}].concat(d)):this.isWorking=!1,this},push:function push(a){return this.enqueue(a)},pop:function pop(){return this.dequeue.apply(this,arguments)},clean:function clean(){return this.closures=[],this.prevs=[],this.isWorking=!1,this}});// Auth
var Auth=function(){if(!(this instanceof Auth))return new Auth};Auth.key="_auth",Auth.uri="/login"+EXT,Auth.login=function(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1];return b=new Date().getTime()+1e3*(b?7889400:86400),Data.set(Auth.key,{token:a,time:b}),Auth},Auth.logout=function(a){return Data.del(Auth.key),a&&a(),delete Auth._user,Auth},Auth.create=function(a){var b=a.split("."),c=_slicedToArray(b,3),d=c[0],e=c[1],f=c[2];if(void 0===e)return null;var g=JWT.jsonParse(JWT.debase64(e));if("object"!=_typeof(g)||null===g||void 0===g.user)return null;var h=new Auth,i=function(a){Object.defineProperty(h,a,{get:function get(){return g.user[a]}})};for(var j in g.user)i(j);return h.toString=function(){return a},h},Object.defineProperty(Auth,"user",{get:function get(){if(Auth._user instanceof Auth)return Auth._user;var a=Data.get(Auth.key);if(null===a)return Auth.logout()._user;var b=a.time,c=void 0===b?null:b,d=a.token,e=void 0===d?"":d;return!c||new Date().getTime()>c?Auth.logout()._user:Auth._user=Auth.create(e)},set:function set(a){return Auth._user=Auth.create(a)}});// Redirect
var Reload=function(){throw location.reload(!0),new Error("\u9801\u9762\u91CD\u65B0\u6574\u7406\u4E2D\u2026")},Change=function(a){throw window.location.replace(a),new Error("\u9801\u9762\u91CD\u65B0\u5C0E\u5411\u4E2D\u2026")},Redirect=function(a){var b=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];throw b&&Data.set(Page.key,window.location.href),window.location.assign(a),new Error("\u9801\u9762\u91CD\u65B0\u5C0E\u5411\u4E2D\u2026")},Page=function(){};Page.key="_last",Page.changeTo=function(a){return Change(a)},Page.redirectTo=function(a){var b=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];return Redirect(a,b)},Page.reload=function(){return Reload()};// Flash
var Flash=function(a,b,c){if(!(this instanceof Flash))return new Flash(a,b,c);var d=Data.get(Flash.key)||[];d.push({type:a,title:b,contents:Array.isArray(c)?c:[c]}),Data.set(Flash.key,d)};Flash.key="_flashes",Flash.failure=function(a,b){return Flash("failure",a,b),Page},Flash.success=function(a,b){return Flash("success",a,b),Page};// API
var API=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return this instanceof API?void(this.option=_objectSpread({},c),this.event={done:null,fail:null,after:null},this.url(a),this.method("get"),this.data(b)):new API(a,b,c)};API.prototype.url=function(a){return this.option.url=a,this},API.prototype.data=function(a){return this.option.data=a||{},this},API.prototype.method=function(a){return"string"==typeof a&&(a=a.toLowerCase())&&["get","post","put","delete"].includes(a)&&(this.option.type=a.toUpperCase()),this},API.prototype.header=function(a){return this.option.headers=a,this},API.prototype.before=function(a){return"function"==typeof a&&(this.option.beforeSend=a),this},API.prototype.done=function(a){return"function"==typeof a&&(this.event.done=a),this},API.prototype.fail=function(a){return"function"==typeof a&&(this.event.fail=a),this},API.prototype.after=function(a){return"function"==typeof a&&(this.event.after=a),this},API.prototype.auth=function(a){return this.header({Authorization:"Bearer "+(a||Auth.user)})},API.prototype.send=function(){var a=this;return $.ajax(this.option).done(this.event.done).fail(function(b){var c=b.status,d=b.responseJSON;d=void 0===d?{messages:["\u4E0D\u660E\u932F\u8AA4\uFF01"]}:d;var e=d.messages;401==c&&Flash.failure("\u6B0A\u9650\u932F\u8AA4\uFF01").changeTo(Auth.uri),a.event.fail&&a.event.fail(e,c)}).complete(this.event.after),this},API.GET=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return API(URL.API+a,b,c).method("get")},API.POST=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return API(URL.API+a,b,c).method("post")},API.PUT=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return API(URL.API+a,b,c).method("put")},API.DELETE=function(a,b){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{};return API(URL.API+a,b,c).method("delete")},API.Q={q:Queue(),enqueue:function enqueue(a){return this.q.enqueue(function(){return a=a.apply(void 0,arguments),a instanceof API&&a.send()}),this}};// Params
var Params=function(a){var b=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],c=b?window.location.href.split("?").pop():window.location.hash.substr(1);for(var d in c.split("&").forEach(function(a){var b=a.split("=");if(2==b.length){var c=decodeURIComponent(b[0]),d=decodeURIComponent(b[1]);"[]"==c.slice(-2)?Params[(c.slice(0,-2),_readOnlyError("k"))]?Params[c].push(d):Params[c]=[d]:Params[c]=d}}),a)Params[d]=void 0===Params[d]?a[d]:Params[d];return Params},ImageThumbnail=function(a,b,c){var d=!!(3<arguments.length&&arguments[3]!==void 0)&&arguments[3],f=function(c,e){var f=new Image;f.onload=function(){var a=document.createElement("canvas");return d||(c=1),6==c||8==c?(a.height=f.width,a.width=f.height):(a.width=f.width,a.height=f.height),Math.max(a.width,a.height)>b&&(a.width>a.height?(a.height=b/a.width*a.height,a.width=b):(a.width=b/a.height*a.width,a.height=b)),3==c?(a.getContext("2d").transform(-1,0,0,-1,a.width,a.height),a.getContext("2d").drawImage(f,0,0,a.width,a.height)):6==c?(a.getContext("2d").transform(0,1,-1,0,a.width,0),a.getContext("2d").drawImage(f,0,0,a.height,a.width)):8==c?(a.getContext("2d").transform(0,-1,1,0,0,a.height),a.getContext("2d").drawImage(f,0,0,a.height,a.width)):a.getContext("2d").drawImage(f,0,0,a.width,a.height),e(a.toDataURL(),f.width,f.height)};var g=new FileReader;g.onload=function(a){return f.src=a.target.result},g.readAsDataURL(a)},g=function(a,b){var c=new DataView(b.target.result);if(65496!=c.getUint16(0,!1))return f(-2,a);for(var d,e=c.byteLength,g=2;g<e;)if(d=c.getUint16(g,!1),g+=2,65505==d){if(1165519206!=c.getUint32(g+=2,!1))return f(-1,a);var h=18761==c.getUint16(g+=6,!1);g+=c.getUint32(g+4,h);var j=c.getUint16(g,h);g+=2;for(var k=0;k<j;k++)if(274==c.getUint16(g+12*k,h))return f(c.getUint16(g+12*k+8,h),a)}else{if(65280!=(65280&d))break;g+=c.getUint16(g,!1)}return f(-1,a)},h=new FileReader;h.onload=function(a){return g(c,a)},h.readAsArrayBuffer(a.slice(0,65536))},Toastr={items:[],id:0,close:function close(a){var b=this;return setTimeout(function(){return b.items.pop()},100,a._disappear=!0),this},push:function push(a){var b=this;return setTimeout(function(){return b.close(a)},5e3,this.items.push(a=_objectSpread({_id:++this.id,_appear:!1,_disappear:!1},a)),setTimeout(function(){return a._appear=!0},100)),this},failure:function failure(a){(Array.isArray(a)?a:[a]).forEach(function(a){return Toastr.push({type:"failure",content:a})})},success:function success(a){(Array.isArray(a)?a:[a]).forEach(function(a){return Toastr.push({type:"success",content:a})})},error:function error(a){(Array.isArray(a)?a:[a]).forEach(function(a){return Toastr.push({type:"error",content:a})})},info:function info(a){(Array.isArray(a)?a:[a]).forEach(function(a){return Toastr.push({type:"info",content:a})})}},numFormat=function(b){for(var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:3,d=[],e=0,f=(""+b).split("").reverse();e<f.length;e++)!e||e%c?d.push(f[e]):d.push(",",f[e]);return d.reverse().join("")},pad0=function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2,d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"0";return(a=""+a,d=""+d,b=""+Math.pow(10,b-1),a.length>b.length)?a:(b=b.length-a.length,d.repeat(b)+a)},date=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"Y-m-d H:i:s",b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:new Date;return a.replace("Y",b.getFullYear()).replace("m",pad0(b.getMonth()+1)).replace("d",pad0(b.getDate())).replace("H",pad0(b.getHours())).replace("i",pad0(b.getMinutes())).replace("s",pad0(b.getSeconds()))},Load={mount:function mount(a){return document.body.appendChild(new Vue(a).$mount().$el)},init:function init(a){var b=this;Data.del(Flash.key,Flash.messages=Data.get(Flash.key)||[]);// 取得 last Router
var c=Data.get(Page.key);return c&&Data.del(Page.key)&&(Page.last=c),"function"==typeof a?a():$(function(){return b.mount(a)})}};