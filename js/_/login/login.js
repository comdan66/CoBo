"use strict";/**
 * @author      OA Wu <comdan66@gmail.com>
 * @copyright   Copyright (c) 2015 - 2021, Lalilo
 * @license     http://opensource.org/licenses/MIT  MIT License
 * @link        https://www.ioa.tw/
 */Vue.component("login",{data:function data(){return{messages:[],model:{account:"",password:""}}},methods:{failure:function failure(a){return this.messages=a.length?[{type:"failure",contents:a}]:[]},submit:function submit(){var a=this,b=[];this.model.account||b.push("\u8ACB\u586B\u5BEB\u5E33\u865F\uFF01"),this.model.password||b.push("\u8ACB\u586B\u5BEB\u5BC6\u78BC\uFF01"),this.failure(b).length||Alert().loading("\u767B\u5165\u4E2D\uFF0C\u8ACB\u7A0D\u5019\u2026").present(function(b){API.POST("auth/login",a.model).fail(a.failure).after(function(){return b.dismiss()}).done(function(b){var c=b.token;return a.$emit("done","\u767B\u5165\u6210\u529F\uFF01",c)}).send()})}},template:El.render("\n    div.login\n      div.avatar\n      \n      form._form => @submit.prevent=submit\n\n        form-messages => :messages=messages\n\n        label._unit => :before='\u5E33\u865F'\n          input._input => type=text   :placeholder=\"\u8ACB\u8F38\u5165\u60A8\u7684\u5E33\u865F\u2026\"   *model.trim=model.account   :required=true   :autofocus=true\n\n        label._unit => :before='\u5BC6\u78BC'\n          input._input => type=password   :placeholder=\"\u8ACB\u8F38\u5165\u60A8\u7684\u5BC6\u78BC\u2026\"   *model.trim=model.password   :required=true\n\n        div.split\n          label._pointer._button => *text='\u8A3B\u518A'   @click=$emit('register')\n          i\n          button._pointer._button => *text='\u767B\u5165'\n  ")});